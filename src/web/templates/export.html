{% extends "base.html" %}

{% block title %}Exportar - Lead Finder{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto space-y-6">
    <h1 class="text-3xl font-bold text-gray-800">Exportar Leads</h1>

    <div class="bg-white rounded-lg shadow p-6">
        <p class="text-gray-600 mb-6">Total de leads disponiveis: <strong>{{ total }}</strong></p>

        <form method="post" action="/export/download" class="space-y-4">
            <!-- Format -->
            <div>
                <label class="block text-gray-700 font-medium mb-2">Formato</label>
                <select name="format" class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-500">
                    <option value="csv">CSV (Generico)</option>
                    <option value="xlsx">Excel (.xlsx)</option>
                    <option value="json">JSON</option>
                    <option value="hubspot">HubSpot (CSV)</option>
                    <option value="pipedrive">Pipedrive (CSV)</option>
                    <option value="salesforce">Salesforce (CSV)</option>
                </select>
            </div>

            <!-- Status Filter -->
            <div>
                <label class="block text-gray-700 font-medium mb-2">Filtrar por Status</label>
                <select name="status" class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-500">
                    <option value="">Todos</option>
                    {% for s in statuses %}
                    <option value="{{ s }}">{{ s|capitalize }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Min Score -->
            <div>
                <label class="block text-gray-700 font-medium mb-2">Score Minimo</label>
                <input type="number" name="min_score" min="0" max="100"
                       placeholder="Ex: 50"
                       class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-500">
            </div>

            <button type="submit" class="w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
                Exportar
            </button>
        </form>
    </div>

    <!-- Info -->
    <div class="bg-gray-50 rounded-lg p-4 text-sm text-gray-600">
        <h3 class="font-medium mb-2">Colunas Exportadas:</h3>
        <ul class="list-disc list-inside space-y-1">
            <li>Nome, Endereco, Telefone, Website</li>
            <li>Rating, Numero de Reviews</li>
            <li>Lead Score, Status</li>
            <li>Data de Descoberta, Link Google Maps</li>
            <li>Notas</li>
        </ul>
    </div>
</div>
{% endblock %}
